{% extends "web/app/app_base.html" %}
{% load i18n %}
{% load static %}
{% block app %}

<div class="container mx-auto p-6">
    <!-- Page Header -->
    <h1 class="text-3xl font-bold mb-8">AWS Resources for Account: {{ aws_account.account_id }}</h1>

    <!-- Resource Groups -->
    {% for resource_type, resources in grouped_resources.items %}
    <div class="mb-10">
        <!-- Resource Type Heading -->
        <h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-2">
            {{ resource_type }}
        </h2>

        <!-- Grid of Resources -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for resource in resources %}
            <div class="border border-gray-300 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow">
                <!-- Resource Name or ID -->
                <h3 class="text-lg font-medium text-gray-800 mb-2 break-all">
                    {{ resource.resource_name|default:resource.resource_id }}
                </h3>

                <!-- Resource Region -->
                <p class="text-sm text-gray-500 mb-4">Region: {{ resource.aws_region }}</p>

                <!-- Details Link -->
                <a href="{% url 'aws:aws_resource_details' resource.id %}" 
                   target="_blank" 
                   class="text-blue-600 hover:underline text-sm font-medium">
                    View Details
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endfor %}
</div>  

{% endblock %}
